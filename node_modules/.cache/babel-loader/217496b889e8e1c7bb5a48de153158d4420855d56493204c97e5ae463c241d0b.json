{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import CustomHeader from\"./header\";import Board from\"./board\";import Footer from\"./footer\";import{createInitialBoard}from\"../engine/minesweeperEngine\";import ResetButton from\"./resetButton\";import{printBoard,checkWin,checkLoss}from\"../engine/minesweeperEngine\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Minesweeper(){const[board,setBoard]=useState(createInitialBoard());const[firstMoveMade,setFirstMoveMade]=useState(false);// /**\n//  * Handles the click event on a tile, revealing it, and checking for a mine.\n//  * Triggers recursive revealing of adjacent tiles if the clicked tile has no adjacent mines.\n//  * @param {Object[][]} board - The current state of the Minesweeper board.\n//  * @param {number} rowIndex - The row index of the clicked tile.\n//  * @param {number} colIndex - The column index of the clicked tile.\n//  * @param {function} setBoard - React's setState function for updating the board.\n//  */\nconst handleTileClick=(rowIndex,colIndex)=>{if(!firstMoveMade){printBoard(board);const newBoard=[...board];setFirstMoveMade(true);checkTile(newBoard,rowIndex,colIndex);setBoard([...board]);}else{printBoard(board);const newBoard=[...board];checkTile(newBoard,rowIndex,colIndex);setBoard([...board]);}};const checkTile=(board,rowIndex,colIndex)=>{const tile=board[rowIndex][colIndex];tile.isRevealed=true;if(tile.isMine){console.log(\"YOU LOSE\");}else{revealAdjacentTiles(board,rowIndex,colIndex);}};/**\n   * Handles the right-click event on a tile, toggling the flag on or off.\n   * This function prevents the default browser context menu from appearing,\n   * checks if the clicked tile has not been revealed, and toggles the flag status\n   * of the tile. The updated board state is then set to trigger a re-render.\n   *\n   * @param {Array} board - The current state of the Minesweeper board as a 2D array.\n   * @param {number} rowIndex - The row index of the tile that was right-clicked.\n   * @param {number} colIndex - The column index of the tile that was right-clicked.\n   * @param {Function} setBoard - The React setState function for updating the board state.\n   * @param {Event} event - The event object from the right-click action.\n   */function handleRightClick(rowIndex,colIndex){const newBoard=[...board];const tile=newBoard[rowIndex][colIndex];if(!tile.isRevealed){if(tile.isFlagged){tile.isFlagged=false;}else{tile.isFlagged=true;}setBoard(newBoard);}}/**\n   * Recursively reveals adjacent tiles that do not contain mines and have no adjacent mines.\n   * Stops recursion at tiles that are adjacent to mines but not mines themselves.\n   * @param {Object[][]} board - The current state of the Minesweeper board.\n   * @param {number} row - The row index of the current tile.\n   * @param {number} col - The column index of the current tile.\n   */function revealAdjacentTiles(board,row,col){const directions_for_zero_adjacent_tiles=[[1,-1],// Left top\n[0,-1],// Left middle\n[-1,-1],// Left bottom\n[-1,0],// Middle top\n[1,1],// Right bottom\n[0,1],// Right middle\n[-1,1],// Right top\n[1,0]// Middle down\n];const currentTile=board[row][col];if(currentTile.adjacentMines===0){directions_for_zero_adjacent_tiles.forEach(_ref=>{let[dx,dy]=_ref;const newRow=row+dx;const newCol=col+dy;if(newRow>=0&&newRow<8&&newCol>=0&&newCol<8){const tile=board[newRow][newCol];if(!tile.isRevealed&&!tile.isMine){tile.isRevealed=true;if(tile.adjacentMines===0){revealAdjacentTiles(board,newRow,newCol);}}}});}}const resetBoard=()=>{setBoard(createInitialBoard());setFirstMoveMade(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed-page-height-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Board,{board:board,onTileClick:handleTileClick,handleRightClick:handleRightClick}),/*#__PURE__*/_jsx(ResetButton,{onReset:resetBoard})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Minesweeper;","map":{"version":3,"names":["React","useEffect","useState","CustomHeader","Board","Footer","createInitialBoard","ResetButton","printBoard","checkWin","checkLoss","jsx","_jsx","jsxs","_jsxs","Minesweeper","board","setBoard","firstMoveMade","setFirstMoveMade","handleTileClick","rowIndex","colIndex","newBoard","checkTile","tile","isRevealed","isMine","console","log","revealAdjacentTiles","handleRightClick","isFlagged","row","col","directions_for_zero_adjacent_tiles","currentTile","adjacentMines","forEach","_ref","dx","dy","newRow","newCol","resetBoard","children","className","onTileClick","onReset"],"sources":["/Users/jessicalin/Desktop/Projects/PersonalPortfolio/src/components/minesweeper.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport CustomHeader from \"./header\";\nimport Board from \"./board\";\nimport Footer from \"./footer\";\nimport { createInitialBoard } from \"../engine/minesweeperEngine\";\nimport ResetButton from \"./resetButton\";\nimport { printBoard, checkWin, checkLoss } from \"../engine/minesweeperEngine\";\n\nfunction Minesweeper() {\n  const [board, setBoard] = useState(createInitialBoard());\n  const [firstMoveMade, setFirstMoveMade] = useState(false);\n\n  // /**\n  //  * Handles the click event on a tile, revealing it, and checking for a mine.\n  //  * Triggers recursive revealing of adjacent tiles if the clicked tile has no adjacent mines.\n  //  * @param {Object[][]} board - The current state of the Minesweeper board.\n  //  * @param {number} rowIndex - The row index of the clicked tile.\n  //  * @param {number} colIndex - The column index of the clicked tile.\n  //  * @param {function} setBoard - React's setState function for updating the board.\n  //  */\n  const handleTileClick = (rowIndex, colIndex) => {\n    if (!firstMoveMade) {\n      printBoard(board);\n      const newBoard = [...board];\n      setFirstMoveMade(true);\n      checkTile(newBoard, rowIndex, colIndex);\n      setBoard([...board]);\n    } else {\n      printBoard(board);\n      const newBoard = [...board];\n      checkTile(newBoard, rowIndex, colIndex);\n      setBoard([...board]);\n    }\n  };\n\n  const checkTile = (board, rowIndex, colIndex) => {\n    const tile = board[rowIndex][colIndex];\n    tile.isRevealed = true;\n    if (tile.isMine) {\n      console.log(\"YOU LOSE\");\n    } else {\n      revealAdjacentTiles(board, rowIndex, colIndex);\n    }\n  };\n\n  /**\n   * Handles the right-click event on a tile, toggling the flag on or off.\n   * This function prevents the default browser context menu from appearing,\n   * checks if the clicked tile has not been revealed, and toggles the flag status\n   * of the tile. The updated board state is then set to trigger a re-render.\n   *\n   * @param {Array} board - The current state of the Minesweeper board as a 2D array.\n   * @param {number} rowIndex - The row index of the tile that was right-clicked.\n   * @param {number} colIndex - The column index of the tile that was right-clicked.\n   * @param {Function} setBoard - The React setState function for updating the board state.\n   * @param {Event} event - The event object from the right-click action.\n   */\n  function handleRightClick(rowIndex, colIndex) {\n    const newBoard = [...board];\n    const tile = newBoard[rowIndex][colIndex];\n\n    if (!tile.isRevealed) {\n      if (tile.isFlagged) {\n        tile.isFlagged = false;\n      } else {\n        tile.isFlagged = true;\n      }\n      setBoard(newBoard);\n    }\n  }\n\n  /**\n   * Recursively reveals adjacent tiles that do not contain mines and have no adjacent mines.\n   * Stops recursion at tiles that are adjacent to mines but not mines themselves.\n   * @param {Object[][]} board - The current state of the Minesweeper board.\n   * @param {number} row - The row index of the current tile.\n   * @param {number} col - The column index of the current tile.\n   */\n  function revealAdjacentTiles(board, row, col) {\n    const directions_for_zero_adjacent_tiles = [\n      [1, -1], // Left top\n      [0, -1], // Left middle\n      [-1, -1], // Left bottom\n      [-1, 0], // Middle top\n      [1, 1], // Right bottom\n      [0, 1], // Right middle\n      [-1, 1], // Right top\n      [1, 0], // Middle down\n    ];\n\n    const currentTile = board[row][col];\n    if (currentTile.adjacentMines === 0) {\n      directions_for_zero_adjacent_tiles.forEach(([dx, dy]) => {\n        const newRow = row + dx;\n        const newCol = col + dy;\n\n        if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n          const tile = board[newRow][newCol];\n          if (!tile.isRevealed && !tile.isMine) {\n            tile.isRevealed = true;\n            if (tile.adjacentMines === 0) {\n              revealAdjacentTiles(board, newRow, newCol);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  const resetBoard = () => {\n    setBoard(createInitialBoard());\n    setFirstMoveMade(false);\n  };\n\n  return (\n    <div>\n      <CustomHeader />\n      <div className=\"main-content\">\n        <div className=\"fixed-page-height-container\">\n          <div className=\"app-container\">\n            <Board\n              board={board}\n              onTileClick={handleTileClick}\n              handleRightClick={handleRightClick}\n            />\n            <ResetButton onReset={resetBoard} />\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Minesweeper;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}